{% load url from future %}
<!DOCTYPE html> 
<html> 
<head>
	<base href="https://n800s.dyndns.org:7443/robo/">
	<title>Robo Homo</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
<--	<script src="js/robo.js"></script> 
	<style type="text/css">
		html.busy, html.busy * {
			cursor: wait !important;
		}
	</style>
	<script>
	$( document ).on( 'mobileinit', function(){
		$.mobile.loader.prototype.options.text = "loading";
		$.mobile.loader.prototype.options.textVisible = false;
		$.mobile.loader.prototype.options.theme = "a";
		$.mobile.loader.prototype.options.html = "";
	});
	$(document).ready(function() {
		$.ajaxSetup({
			cache: false
		});
		var update_images = function(msg) {
//			alert("update:" + msg);
		};
		$("#get_image").click(function () {
			$("#placeholder").attr("src", "{% url 'robo.views.get_image' %}");
		});
		$("#make_image").click(function () {
			jQuery.ajax(
				url="{% url 'robo.views.make_image' %}"
			).done(update_images);
		});
		$("#move_up").click(function () {
			jQuery.ajax(
				url="{% url 'robo.views.move_up' %}"
			).done(update_images);
		});
		$("#move_left").click(function () {
			jQuery.ajax(
				url="{% url 'robo.views.move_left' %}"
			).done(update_images);
		});
		$("#move_right").click(function () {
			jQuery.ajax(
				url="{% url 'robo.views.move_right' %}"
			).done(update_images);
		});
		$("#move_down").click(function () {
			jQuery.ajax(
				url="{% url 'robo.views.move_down' %}"
			).done(update_images);
		});
//	$.ajaxStart(function() {
//		$.addClass('busy');
//	}).ajaxComplete(function() {
//		$.removeClass('busy');
//	});
//	$.ajax({
//	  url: '/bon',
//	  success: function(data) {
//	    $('camver').html(data);
//	  }
//	});
	$(function() {
	        $( "#menu" ).menu();
	});
});
</script>
</head> 
<body> 

<div data-role="page">

	<div data-role="header">
		<h1>Robo homo</h1>
	</div><!-- /header -->

	<ul id="menu">
		<li><a href="{% url 'robo.views.histogram' %}" data-ajax="false">Histogram {{page}}</a></li>
		<li><a href="cam">Camera</a></li>
	</ul>

	<div data-role="content">
	Nothing
	</div><!-- /content -->

	<div id="camver"></div>
	<img id="placeholder" width="160" height="120"></img>

<table>
<tr><td colspan="3" align="center"><button type="button" id="move_up">Up</button></td></tr>
<tr><td><button type="button" id="move_left">&lt;</button></td><td><button type="button" id="make_image">img</button></td><td><button type="button" id="move_right">&gt;</button></td></tr>
<tr><td colspan="3" align="center"><button type="button" id="move_down">Down</button></td></tr>
</table>
<button type="button" id="get_image">get</button>
</div><!-- /page -->

</body>
</html>
